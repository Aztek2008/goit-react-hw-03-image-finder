{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","services/PixabayApi.jsx","components/App.jsx","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css"],"names":["module","exports","Searchbar","PropTypes","query","string","isRequired","state","handleChange","event","setState","target","value","handleSubmit","e","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","children","ImageGalleryItem","webUrl","tags","onClick","src","alt","ImageGalleryItemImage","Button","thisClicked","ButtonContainer","Loader","color","height","width","Modal","largeImageURL","onClose","Overlay","API_KEY","searchQuery","page","axios","get","then","response","data","hits","App","galleryImages","array","number","error","loading","bool","fetchPicturesFromApi","pixabayApi","pictures","prevState","catch","finally","handleSubmitFromQuery","queryValue","smoothScroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","setLargeUrl","link","addEventListener","handleKeyDown","closeModal","removeEventListener","code","prevProps","prevQuery","nextQuery","prevPage","nextPage","message","images","map","id","webformatURL","key","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,sDCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,qKCiDjOC,E,4MA7CbC,UAAY,CACVC,MAAOD,IAAUE,OAAOC,Y,EAG1BC,MAAQ,CACNH,MAAO,I,EAGTI,aAAe,SAACC,GACd,EAAKC,SAAS,CACZN,MAAOK,EAAME,OAAOC,S,EAIxBC,aAAe,SAACC,GACdA,EAAEC,iBAEF,EAAKC,MAAMC,SAAS,EAAKV,MAAMH,OAE/B,EAAKM,SAAS,CAAEN,MAAO,M,uDAIvB,OACE,4BAAQc,UAAWC,IAAOjB,WACxB,0BAAMgB,UAAWC,IAAOC,WAAYH,SAAUI,KAAKR,cACjD,4BAAQS,KAAK,SAASJ,UAAWC,IAAOI,kBACtC,0BAAML,UAAWC,IAAOK,uBAAxB,WAGF,2BACEN,UAAWC,IAAOM,gBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTf,MAAOS,KAAKd,MAAMH,MAClBwB,YAAY,2BACZC,SAAUR,KAAKb,qB,GAtCHsB,a,iBCGTC,EAJM,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACtB,OAAO,wBAAId,UAAWC,IAAOY,cAAeC,I,gBCa/BC,EAdU,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,QAAwB,EAAfJ,SACjD,OACE,wBAAId,UAAWC,IAAOc,kBACpB,yBACEI,IAAKH,EACLI,IAAKH,EACLjB,UAAWC,IAAOoB,sBAClBH,QAASA,M,gBCGFI,EAVA,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YAChB,OACE,yBAAKvB,UAAWC,IAAOuB,iBACrB,4BAAQN,QAASK,EAAavB,UAAWC,IAAOqB,OAAQlB,KAAK,UAA7D,e,kCCYSqB,G,MAZA,WACb,OACE,kBAAC,IAAD,CACEzB,UAAWC,IAAOwB,OAClBrB,KAAK,YACLsB,MAAM,UACNC,OAAQ,GACRC,MAAO,O,iBCIEC,EAdD,SAAC,GAAsC,IAApCZ,EAAmC,EAAnCA,KAAMa,EAA6B,EAA7BA,cAAeC,EAAc,EAAdA,QACpC,OACE,yBACE/B,UAAWC,IAAO+B,QAClBd,QAASa,GAGT,yBAAK/B,UAAWC,IAAO4B,OACrB,yBAAKV,IAAKW,EAAeV,IAAKH,O,iBCThCgB,EAAU,qCAUD,EARc,SAACC,GAA2B,IAAdC,EAAa,uDAAN,EAChD,OAAOC,IACJC,IADI,uCAE6BJ,EAF7B,cAE0CC,EAF1C,kCAE+EC,EAF/E,wCAIJG,MAAK,SAACC,GAAD,OAAcA,EAASC,KAAKC,SCoHvBC,E,4MAlHbzD,UAAY,CACV0D,cAAe1D,IAAU2D,MAAMxD,WAC/B8C,YAAajD,IAAUE,OAAOC,WAC9B+C,KAAMlD,IAAU4D,OAAOzD,WACvB0D,MAAO7D,IAAUE,OAAOC,WACxB2D,QAAS9D,IAAU+D,KAAK5D,WACxB0C,cAAe7C,IAAUE,OAAOC,Y,EAGlCC,MAAQ,CACNsD,cAAe,GACfT,YAAa,GACbC,KAAM,EACNW,MAAO,KACPC,SAAS,EACTjB,cAAe,M,EAajBmB,qBAAuB,WAAO,IAAD,EACG,EAAK5D,MAA3B6C,EADmB,EACnBA,YAAaC,EADM,EACNA,KAErB,EAAK3C,SAAS,CAAEuD,SAAS,IAEzBG,EACwBhB,EAAaC,GAClCG,MAAK,SAACa,GAAD,OACJ,EAAK3D,UAAS,SAAC4D,GAAD,MAAgB,CAC5BT,cAAc,GAAD,mBAAMS,EAAUT,eAAhB,YAAkCQ,IAC/ChB,KAAMiB,EAAUjB,KAAO,SAG1BkB,OAAM,SAACP,GAAD,OAAW,EAAKtD,SAAS,CAAEsD,aACjCQ,SAAQ,kBAAM,EAAK9D,SAAS,CAAEuD,SAAS,Q,EAG5CQ,sBAAwB,SAACC,GACvB,EAAKnE,MAAM6C,cAAgBsB,GACzB,EAAKhE,SAAS,CACZ0C,YAAasB,EACbrB,KAAM,EACNQ,cAAe,M,EAIrBc,aAAe,WACbC,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,Y,EAIdC,YAAc,SAACC,GACb,EAAK1E,SAAS,CAAEsC,cAAeoC,IAE/BR,OAAOS,iBAAiB,UAAW,EAAKC,gB,EAG1CC,WAAa,WACX,EAAK7E,SAAS,CAAEsC,cAAe,OAE/B4B,OAAOY,oBAAoB,UAAW,EAAKF,gB,EAG7CA,cAAgB,SAACxE,GACJ,WAAXA,EAAE2E,MAAqB,EAAKF,c,iEAxDXG,EAAWpB,GAC5B,IAAMqB,EAAYrB,EAAUlB,YACtBwC,EAAYvE,KAAKd,MAAM6C,YACvByC,EAAWvB,EAAUjB,KACrByC,EAAWzE,KAAKd,MAAM8C,KAE5BsC,IAAcC,GAAavE,KAAK8C,uBAChC0B,IAAaC,GAAYzE,KAAKsD,iB,+BAoDtB,IAAD,SACkDtD,KAAKd,MAAtDyD,EADD,EACCA,MAAOH,EADR,EACQA,cAAeI,EADvB,EACuBA,QAASjB,EADhC,EACgCA,cAEvC,OACE,oCACGgB,GAAS,+CAAqBA,EAAM+B,QAA3B,KAEV,kBAAC,EAAD,CAAW9E,SAAUI,KAAKoD,wBAE1B,kBAAC,EAAD,CAAcuB,OAAQnC,GACnBA,EAAcoC,KAAI,gBAAGC,EAAH,EAAGA,GAAI/D,EAAP,EAAOA,KAAMgE,EAAb,EAAaA,aAAcnD,EAA3B,EAA2BA,cAA3B,OACjB,kBAAC,EAAD,CACEoD,IAAKF,EACL/D,KAAMA,EACND,OAAQiE,EACR/D,QAAS,kBAAM,EAAK+C,YAAYnC,UAKrCiB,GAAW,kBAAC,EAAD,MAEXJ,EAAcwC,OAAS,GACtB,kBAAC,EAAD,CAAQ5D,YAAapB,KAAK8C,uBAE3BnB,GACC,kBAAC,EAAD,CACEC,QAAS5B,KAAKkE,WACdvC,cAAeA,EACfV,IAAI,U,GA3GER,a,MCLlBwE,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFzB,SAAS0B,eAAe,U,kBCR1BzG,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,kBCAxGD,EAAOC,QAAU,CAAC,gBAAkB,gCAAgC,OAAS,0B","file":"static/js/main.a24fe2cb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__mkKjR\",\"Modal\":\"Modal_Modal__2AQLf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__34oX3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__26Cwk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3CYsP\",\"SearchForm\":\"Searchbar_SearchForm__h-EIO\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2n7tM\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1i2cB\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2LHsN\"};","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Searchbar extends Component {\r\n  PropTypes = {\r\n    query: PropTypes.string.isRequired,\r\n  };\r\n\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      query: event.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            value={this.state.query}\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return <ul className={styles.ImageGallery}>{children}</ul>;\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ webUrl, tags, onClick, children }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={webUrl}\r\n        alt={tags}\r\n        className={styles.ImageGalleryItemImage}\r\n        onClick={onClick}\r\n      />\r\n      {/* {children} */}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ thisClicked }) => {\r\n  return (\r\n    <div className={styles.ButtonContainer}>\r\n      <button onClick={thisClicked} className={styles.Button} type=\"button\">\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Loaderer from \"react-loader-spinner\";\r\nimport styles from \"./Loader.module.css\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <Loaderer\r\n      className={styles.Loader}\r\n      type=\"ThreeDots\"\r\n      color=\"#00BFFF\"\r\n      height={80}\r\n      width={80}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst Modal = ({ tags, largeImageURL, onClose }) => {\r\n  return (\r\n    <div\r\n      className={styles.Overlay}\r\n      onClick={onClose}\r\n      // onClick={(e) => e.target.nodeName !== \"IMG\" && onClose}\r\n    >\r\n      <div className={styles.Modal}>\r\n        <img src={largeImageURL} alt={tags} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\nconst API_KEY = \"16768453-e9e01aacbda51e04761bf85fa\";\r\n\r\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?key=${API_KEY}&q=${searchQuery}&image_type=photo&page=${page}&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default {\r\n  fetchImagesWithQuery,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Searchbar from \"./Searchbar\";\r\nimport ImageGallery from \"./ImageGallery\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\nimport Button from \"./Button\";\r\nimport Loader from \"./Loader\";\r\nimport Modal from \"./Modal\";\r\nimport pixabayApi from \"../services/PixabayApi\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass App extends Component {\r\n  PropTypes = {\r\n    galleryImages: PropTypes.array.isRequired,\r\n    searchQuery: PropTypes.string.isRequired,\r\n    page: PropTypes.number.isRequired,\r\n    error: PropTypes.string.isRequired,\r\n    loading: PropTypes.bool.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n  };\r\n\r\n  state = {\r\n    galleryImages: [],\r\n    searchQuery: \"\",\r\n    page: 1,\r\n    error: null,\r\n    loading: false,\r\n    largeImageURL: null,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n\r\n    prevQuery !== nextQuery && this.fetchPicturesFromApi();\r\n    prevPage !== nextPage && this.smoothScroll();\r\n  }\r\n\r\n  fetchPicturesFromApi = () => {\r\n    const { searchQuery, page } = this.state;\r\n\r\n    this.setState({ loading: true });\r\n\r\n    pixabayApi\r\n      .fetchImagesWithQuery(searchQuery, page)\r\n      .then((pictures) =>\r\n        this.setState((prevState) => ({\r\n          galleryImages: [...prevState.galleryImages, ...pictures],\r\n          page: prevState.page + 1,\r\n        }))\r\n      )\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handleSubmitFromQuery = (queryValue) => {\r\n    this.state.searchQuery !== queryValue &&\r\n      this.setState({\r\n        searchQuery: queryValue,\r\n        page: 1,\r\n        galleryImages: [],\r\n      });\r\n  };\r\n\r\n  smoothScroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  setLargeUrl = (link) => {\r\n    this.setState({ largeImageURL: link });\r\n\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ largeImageURL: null });\r\n\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  };\r\n\r\n  handleKeyDown = (e) => {\r\n    e.code === \"Escape\" && this.closeModal();\r\n  };\r\n\r\n  render() {\r\n    const { error, galleryImages, loading, largeImageURL } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {error && <p>Something wrong: {error.message} </p>}\r\n\r\n        <Searchbar onSubmit={this.handleSubmitFromQuery} />\r\n\r\n        <ImageGallery images={galleryImages}>\r\n          {galleryImages.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              tags={tags}\r\n              webUrl={webformatURL}\r\n              onClick={() => this.setLargeUrl(largeImageURL)}\r\n            />\r\n          ))}\r\n        </ImageGallery>\r\n\r\n        {loading && <Loader />}\r\n\r\n        {galleryImages.length > 0 && (\r\n          <Button thisClicked={this.fetchPicturesFromApi} />\r\n        )}\r\n        {largeImageURL && (\r\n          <Modal\r\n            onClose={this.closeModal}\r\n            largeImageURL={largeImageURL}\r\n            alt=\"\"\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__H9ic3\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1PD3W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonContainer\":\"Button_ButtonContainer__218Di\",\"Button\":\"Button_Button__1_A1R\"};"],"sourceRoot":""}